<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta property="og:image" content="/CoRT/favicon_512.png">
		<title>Champions of Regnum Ranking Archive (Ra)</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="regnumsentinel champions regnum online trainer entrenador bosses war warzone guerra status">
		<meta name="description" content="Champions of Regnum trainer, war status, bosses respawn and bz countdowns">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="icon" type="image/png" href="/favicon.png">
		<link rel="apple-touch-icon" href="/favicon.png" sizes="192x192">
		<script type="module" src="/js/menu.js"></script>
		<style>
			#loading {
				display: flex;
				justify-content: center;
				align-items: center;
				width: 100%;
				height: 100px;
			}

			#loading-text {
				font-size: 24px;
			}

			#iframe-container {
				display: none;
			}
		</style>
		<script>
			window.addEventListener('DOMContentLoaded', function() {
				var iframe = document.getElementById('iframe');
				var loading = document.getElementById('loading');
				var iframeContainer = document.getElementById('iframe-container');

				iframe.addEventListener('load', function() {
					loading.style.display = 'none';
					iframeContainer.style.display = 'block';
				});
			});
		</script>
	</head>
	<body>
		<div id="menu" class="card"></div>
		<div id="main-container">
			<div class="bugnum but on your side">
				<noscript>
					For full functionality of this site it is necessary to enable JavaScript.
					Here are the <a href="https://www.enable-javascript.com/">
						instructions how to enable JavaScript in your web browser</a>.
				</noscript>
			</div>
			<h1 id="title">Your Trainer Setups</h1>
			<!-- center>
				<a href="rankingarchive.html"><button>Ra</button></a>
				<a href="rankingarchive-valhalla.html"><button>Valhalla (abandoned)</button></a>
			</!-->
			<div class="card center">
				<!-- table for setups -->
				<table id="setups" class="card">
					<thead>
						<tr>
							<th>Name</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>

			</div>
			<div id="loading">
				<p id="loading-text">Loading...</p>
			</div>
		</div>
		<script>
			// fetch the setups from API
			fetch ('/api/v1/trainer/mysetups')
				.then(response => response.json())
				.then(data => {
					var setups = data;
					var table = document.getElementById('setups').getElementsByTagName('tbody')[0];
					// clear the table

					for (var i = 0; i < setups.length; i++) {
						var setup = setups[i];
						var row = table.insertRow(-1);

						var name = row.insertCell(0);
						name.innerHTML = setup.name;

						var url = row.insertCell(1);
						url.innerHTML = '<a href="/?t=' + setup.url + '">Load</a>';

						// var actions = row.insertCell(1);
						// var loadButton = document.createElement('button');
						// loadButton.innerHTML = 'Load';
						// loadButton.url = 'hi';
						// actions.appendChild(loadButton);

						// var shareButton = document.createElement('button');
						// shareButton.innerHTML = 'Share';
						// actions.appendChild(shareButton);

						// var saveButton = document.createElement('button');
						// saveButton.innerHTML = 'Save';
						// actions.appendChild(saveButton);
					}
				});
		</script>
		<div id="footer" class="card">
			<div id="footer-menu"></div>
			<!-- Matomo -->
			<script>
				var _paq = window._paq = window._paq || [];
				/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
				_paq.push(['trackPageView']);
				_paq.push(['enableLinkTracking']);
				(function() {
				var u="//analytics.treudler.net/";
				_paq.push(['setTrackerUrl', u+'matomo.php']);
				_paq.push(['setSiteId', '20']);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
				})();
			</script>
			<noscript><p><img referrerpolicy="no-referrer-when-downgrade" src="//analytics.treudler.net/matomo.php?idsite=20&amp;rec=1" style="border:0;" alt="" /></p></noscript>
			<!-- End Matomo Code -->
		</div>	</body>
</html>
